(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{307:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"ğŸ‘¨ğŸ»â€ğŸ’»-é—®é¢˜æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘¨ğŸ»â€ğŸ’»-é—®é¢˜æ€»ç»“"}},[s._v("#")]),s._v(" ğŸ‘¨ğŸ»â€ğŸ’» é—®é¢˜æ€»ç»“")]),s._v(" "),t("h4",{attrs:{id:"_1ã€æ— æ³•é€šè¿‡uiç•Œé¢åˆ é™¤æŸä¸€é•œåƒçš„tag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€æ— æ³•é€šè¿‡uiç•Œé¢åˆ é™¤æŸä¸€é•œåƒçš„tag"}},[s._v("#")]),s._v(" 1ã€æ— æ³•é€šè¿‡UIç•Œé¢åˆ é™¤æŸä¸€é•œåƒçš„TAG")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" ä½¿ç”¨"),t("code",[s._v("registry")]),s._v("ä½œä¸ºä»£ç†ç¼“å­˜æ—¶ä¸æ”¯æŒåˆ é™¤")])]),s._v(" "),t("li",[t("p",[s._v("[x] "),t("strong",[s._v("issuesï¼š")]),s._v(" "),t("a",{attrs:{href:"https://github.com/distribution/distribution/issues/3853",target:"_blank",rel:"noopener noreferrer"}},[s._v("#3853"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("[x] "),t("strong",[s._v("ä»£ç ç‰‡æ®µï¼š")]),s._v(" "),t("a",{attrs:{href:"https://github.com/distribution/distribution/blob/main/registry/handlers/app.go#L349",target:"_blank",rel:"noopener noreferrer"}},[s._v("configure as a pull through cache"),t("OutboundLink")],1)])])]),s._v(" "),t("h4",{attrs:{id:"_2ã€æ­å»ºå¥½äº†-ä½†æ˜¯å›½å†…æ‹‰å–é€Ÿåº¦ä¸ç†æƒ³"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€æ­å»ºå¥½äº†-ä½†æ˜¯å›½å†…æ‹‰å–é€Ÿåº¦ä¸ç†æƒ³"}},[s._v("#")]),s._v(" 2ã€æ­å»ºå¥½äº†ï¼Œä½†æ˜¯å›½å†…æ‹‰å–é€Ÿåº¦ä¸ç†æƒ³")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" ä½ çš„å›½å¤–æœåŠ¡å™¨åˆ°å›½å†…çš„ç½‘ç»œçº¿è·¯ä¸ç†æƒ³")])]),s._v(" "),t("li",[t("p",[s._v("[x] "),t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("(1) å¼€å¯æœåŠ¡å™¨BBRï¼Œä¼˜åŒ–ç½‘ç»œæ€§èƒ½(æ•ˆæœæœ‰é™)")]),s._v(" "),t("li",[s._v("(2) æ›´æ¢å¯¹å›½å†…ç½‘ç»œçº¿è·¯ä¼˜åŒ–æ›´å¥½çš„æœåŠ¡å™¨")])])])]),s._v(" "),t("h4",{attrs:{id:"_3ã€registry-é•œåƒç¼“å­˜å¤šå°‘æ—¶é—´-å¦‚ä½•è°ƒæ•´-å¦‚ä½•ç¦ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€registry-é•œåƒç¼“å­˜å¤šå°‘æ—¶é—´-å¦‚ä½•è°ƒæ•´-å¦‚ä½•ç¦ç”¨"}},[s._v("#")]),s._v(" 3ã€registry é•œåƒç¼“å­˜å¤šå°‘æ—¶é—´ï¼Œå¦‚ä½•è°ƒæ•´ï¼Œå¦‚ä½•ç¦ç”¨")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" é»˜è®¤ç¼“å­˜"),t("code",[s._v("168h")]),s._v("ï¼Œä¹Ÿå°±æ˜¯"),t("code",[s._v("7å¤©")]),s._v("ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­"),t("code",[s._v("proxy")]),s._v("é…ç½®å—ä¸­çš„"),t("code",[s._v("ttl")]),s._v(" å‚æ•°è°ƒæ•´ç¼“å­˜æ—¶é—´ï¼Œ"),t("code",[s._v("0")]),s._v(" ç¦ç”¨ç¼“å­˜è¿‡æœŸã€‚é»˜è®¤å•ä½ns")]),s._v(" "),t("ul",[t("li",[t("ul",[t("li",[s._v("è¦æ˜¯è°ƒåº¦ç¨‹åºæ­£å¸¸æ¸…ç†æ—§æ•°æ®ï¼Œéœ€è¦é…ç½®ä¸­å°† "),t("code",[s._v("delete")]),s._v(" å¼€å¯ï¼ˆæœ¬é¡¹ç›®é»˜è®¤å·²å¼€å¯ï¼‰")])])])])])]),s._v(" "),t("h4",{attrs:{id:"_4ã€ä½¿ç”¨é•œåƒåŠ é€Ÿæ‹‰å–hubå…¬å…±ç©ºé—´ä¸‹çš„é•œåƒæ—¶å¦‚ä½•ä¸æ·»åŠ library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€ä½¿ç”¨é•œåƒåŠ é€Ÿæ‹‰å–hubå…¬å…±ç©ºé—´ä¸‹çš„é•œåƒæ—¶å¦‚ä½•ä¸æ·»åŠ library"}},[s._v("#")]),s._v(" 4ã€ä½¿ç”¨é•œåƒåŠ é€Ÿæ‹‰å–"),t("code",[s._v("hub")]),s._v("å…¬å…±ç©ºé—´ä¸‹çš„é•œåƒæ—¶å¦‚ä½•ä¸æ·»åŠ "),t("code",[s._v("library")])]),s._v(" "),t("ul",[t("li",[s._v("æ­¤æ–¹æ¡ˆæ¥è‡ªäº¤æµç¾¤é‡Œå¤§ä½¬æä¾›ï¼Œé€šè¿‡nginxå®ç°å¹¶å®æµ‹")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†ä¸‹é¢çš„$http_upgrade $connection_upgradeå˜é‡æ·»åŠ åˆ°httpå—ä¸­")]),s._v("\nhttp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”¨äºæ”¯æŒWebSocket")]),s._v("\n    map "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_upgrade")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$connection_upgrade")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        default upgrade"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("      close"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        listen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        server_name hub.your_domain.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨docker hubçš„é…ç½®ä¸­æ·»åŠ ä¸‹é¢çš„locationè§„åˆ™")]),s._v("\n        location ^~ / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$request_uri")]),s._v(" ~  ^/v2/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("^/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("manifests"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("blobs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡å†™è·¯å¾„å¹¶æ·»åŠ  library/")]),s._v("\n                    rewrite ^/v2/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ /v2/library/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("break")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            proxy_pass http://127.0.0.1:51000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header Host "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Real-IP "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header X-Forwarded-For "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy_add_x_forwarded_for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header REMOTE-HOST "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$remote_addr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header Upgrade "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$http_upgrade")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_set_header Connection "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$connection_upgrade")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            proxy_http_version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            add_header X-Cache "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$upstream_cache_status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("h4",{attrs:{id:"_5ã€æ‹‰å–é•œåƒæŠ¥é”™-tls-failed-to-verify-certificate-x509-certificate-signed-by-unknown-authority"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5ã€æ‹‰å–é•œåƒæŠ¥é”™-tls-failed-to-verify-certificate-x509-certificate-signed-by-unknown-authority"}},[s._v("#")]),s._v(" 5ã€æ‹‰å–é•œåƒæŠ¥é”™ "),t("code",[s._v("tls: failed to verify certificate: x509: certificate signed by unknown authority")])]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" è¯ä¹¦é—®é¢˜ã€‚è¡¨ç¤ºè¯ä¹¦æ˜¯ç”±ä¸€ä¸ªæœªçŸ¥çš„æˆ–ä¸å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ç­¾å‘çš„ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_6ã€é€šè¿‡docker-composeéƒ¨ç½²-å¦‚ä½•è®¾ç½®proxyè®¤è¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6ã€é€šè¿‡docker-composeéƒ¨ç½²-å¦‚ä½•è®¾ç½®proxyè®¤è¯"}},[s._v("#")]),s._v(" 6ã€é€šè¿‡docker-composeéƒ¨ç½²ï¼Œå¦‚ä½•è®¾ç½®Proxyè®¤è¯")]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" æŸ¥çœ‹æ•™ç¨‹ï¼š"),t("a",{attrs:{href:"https://www.dqzboy.com/8709.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("è‡ªå»ºDockeré•œåƒåŠ é€ŸæœåŠ¡"),t("OutboundLink")],1)])]),s._v(" "),t("h4",{attrs:{id:"_7ã€å¯¹äºæœåŠ¡å™¨çš„è§„æ ¼è¦æ±‚-å†…å­˜ã€cpuã€ç£ç›˜ã€å¸¦å®½ç½‘ç»œç­‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7ã€å¯¹äºæœåŠ¡å™¨çš„è§„æ ¼è¦æ±‚-å†…å­˜ã€cpuã€ç£ç›˜ã€å¸¦å®½ç½‘ç»œç­‰"}},[s._v("#")]),s._v(" 7ã€å¯¹äºæœåŠ¡å™¨çš„è§„æ ¼è¦æ±‚ï¼Œå†…å­˜ã€CPUã€ç£ç›˜ã€å¸¦å®½ç½‘ç»œç­‰")]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" å»ºè®®æœ€ä½ä½¿ç”¨1C1Gçš„æœåŠ¡å™¨ï¼Œç£ç›˜å¤§å°å–å†³äºä½ æ‹‰å–é•œåƒçš„é¢‘ç‡ä»¥åŠä¿å­˜é•œåƒç¼“å­˜çš„æ—¶é•¿å†³å®š(é»˜è®¤ç¼“å­˜7å¤©,éƒ¨ç½²æ—¶å¯è‡ªå®šä¹‰)ï¼›å¦‚æœå¯¹æ‹‰å–é€Ÿåº¦æœ‰è¦æ±‚ï¼Œæœ€å¥½é€‰æ‹©é’ˆå¯¹ä¸­å›½å¤§é™†è¿›è¡Œç½‘ç»œä¼˜åŒ–çš„æœåŠ¡å™¨")])]),s._v(" "),t("h4",{attrs:{id:"_8ã€ç¼“å­˜åœ¨æœ¬åœ°ç£ç›˜ä¸Šçš„æ•°æ®æ˜¯å¦ä¼šè‡ªåŠ¨æ¸…ç†-å¦‚ä½•åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¢«æ¸…ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8ã€ç¼“å­˜åœ¨æœ¬åœ°ç£ç›˜ä¸Šçš„æ•°æ®æ˜¯å¦ä¼šè‡ªåŠ¨æ¸…ç†-å¦‚ä½•åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¢«æ¸…ç†"}},[s._v("#")]),s._v(" 8ã€ç¼“å­˜åœ¨æœ¬åœ°ç£ç›˜ä¸Šçš„æ•°æ®æ˜¯å¦ä¼šè‡ªåŠ¨æ¸…ç†ï¼Ÿå¦‚ä½•åˆ¤æ–­ç¼“å­˜æ˜¯å¦è¢«æ¸…ç†ï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" Registryä¼šå®šæœŸåˆ é™¤æ—§å†…å®¹ä»¥èŠ‚çœç£ç›˜ç©ºé—´ã€‚ä¸‹é¢ä¸ºå®˜æ–¹åŸæ–‡è§£é‡Šï¼š")])]),s._v(" "),t("blockquote",[t("p",[s._v("In environments with high churn rates, stale data can build up in the cache. When running as a pull through cache the Registry periodically removes old content to save disk space. Subsequent requests for removed content causes a remote fetch and local re-caching.\nTo ensure best performance and guarantee correctness the Registry cache should be configured to use the "),t("code",[s._v("filesystem")]),s._v(" driver for storage.")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" å½“æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶å¼€å¯äº† "),t("code",[s._v("delete.enabled.true")]),s._v(" é‚£ä¹ˆè°ƒåº¦ç¨‹åºä¼šè‡ªåŠ¨æ¸…ç†è¿‡æœŸçš„é•œåƒå±‚æˆ–æœªä½¿ç”¨çš„é•œåƒæ ‡ç­¾")])]),s._v(" "),t("li",[t("p",[s._v("âš ï¸ æ³¨æ„ï¼šä¸è¦é€šè¿‡åœ¨UIä¸ŠæŸ¥çœ‹æŸä¸ªé•œåƒæ˜¯å¦è¢«åˆ é™¤æ¥åˆ¤æ–­è°ƒåº¦ç¨‹åºæ˜¯å¦å·²è‡ªåŠ¨æ‰§è¡Œåˆ é™¤æ“ä½œã€‚è€Œæ˜¯æŸ¥çœ‹å¯¹åº”ä»£ç†æœåŠ¡çš„å®¹å™¨æ—¥å¿—")])])]),s._v(" "),t("h4",{attrs:{id:"_9ã€æ‹‰å–äº†ä¸€ä¸ªé•œåƒä¹‹å-å‘ç°uiç•Œé¢æ²¡æœ‰æ˜¾ç¤º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9ã€æ‹‰å–äº†ä¸€ä¸ªé•œåƒä¹‹å-å‘ç°uiç•Œé¢æ²¡æœ‰æ˜¾ç¤º"}},[s._v("#")]),s._v(" 9ã€æ‹‰å–äº†ä¸€ä¸ªé•œåƒä¹‹åï¼Œå‘ç°UIç•Œé¢æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" Docker-Proxyéƒ¨ç½²çš„æœåŠ¡å™¨ä¸Šçš„å­˜å‚¨ç©ºé—´ä¸è¶³ã€‚å®¿ä¸»æœºé»˜è®¤çš„æŒ‚è½½ç›®å½• "),t("code",[s._v("./registry/data")])])]),s._v(" "),t("h4",{attrs:{id:"_10ã€å¼€å¯è®¤è¯å-é…ç½®daemon-jsonæŒ‡å®šäº†ä»£ç†åœ°å€-å¯ä»¥æ­£å¸¸ç™»å…¥-ä½†æ˜¯docker-pullé•œåƒæ—¶æ— æ³•æ‹‰å–é•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10ã€å¼€å¯è®¤è¯å-é…ç½®daemon-jsonæŒ‡å®šäº†ä»£ç†åœ°å€-å¯ä»¥æ­£å¸¸ç™»å…¥-ä½†æ˜¯docker-pullé•œåƒæ—¶æ— æ³•æ‹‰å–é•œåƒ"}},[s._v("#")]),s._v(" 10ã€å¼€å¯è®¤è¯åï¼Œé…ç½®"),t("code",[s._v("daemon.json")]),s._v("æŒ‡å®šäº†ä»£ç†åœ°å€ï¼Œå¯ä»¥æ­£å¸¸ç™»å…¥ï¼Œä½†æ˜¯"),t("code",[s._v("docker pull")]),s._v("é•œåƒæ—¶æ— æ³•æ‹‰å–é•œåƒ")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" å› ä¸ºå¯¹äºç§æœ‰é•œåƒä»“åº“ï¼Œdockerå®¢æˆ·ç«¯å¯¹é•œåƒçš„ç›¸å…³æ“ä½œï¼Œæ¯”å¦‚pull pushæ”¯æŒä¸å‹å¥½ï¼ˆå†å²é—ç•™é—®é¢˜ï¼‰ç›¸å…³ "),t("a",{attrs:{href:"https://github.com/docker/cli/issues/3793#issuecomment-1269051403",target:"_blank",rel:"noopener noreferrer"}},[s._v("issues"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("[x] "),t("strong",[s._v("æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼š")])])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("ï¼ˆ1ï¼‰é¦–å…ˆé€šè¿‡docker login <ç§æœ‰é•œåƒåœ°å€>  ç™»å…¥ç§æœ‰é•œåƒä»“åº“ï¼Œç™»å…¥æˆåŠŸä¹‹åï¼Œä¼šåœ¨å¯¹åº”çš„ç”¨æˆ·å®¶ç›®å½•ä¸‹ç”Ÿæˆ "),t("code",[s._v(".docker/config.json")]),s._v(" é…ç½®æ–‡ä»¶")])])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("ï¼ˆ2ï¼‰é€šè¿‡"),t("code",[s._v("vi")]),s._v("å‘½ä»¤æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œç„¶åæ‰‹åŠ¨åœ¨"),t("code",[s._v("auths")]),s._v("é…ç½®å—é‡Œé¢æ·»åŠ å®˜æ–¹åœ°å€"),t("code",[s._v("https://index.docker.io/v1/")]),s._v("ï¼Œ"),t("code",[s._v("auth")]),s._v("å“ˆå¸Œå€¼ä¸ä½ çš„ç§æœ‰é•œåƒåœ°å€çš„authä¿æŒä¸€è‡´ï¼Œç„¶åé‡å¯dockerå³å¯ç›´æ¥é€šè¿‡"),t("code",[s._v("docker pull")]),s._v("æ‹‰å–äº†")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.docker/config.json\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"auths"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://index.docker.io/v1/"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"auth"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å¤åˆ¶ä¸‹é¢ç§æœ‰é•œåƒç™»å…¥è®¤è¯çš„å“ˆå¸Œå€¼å¡«åˆ°è¿™é‡Œ"')]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n              "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ä½ çš„ç§æœ‰é•œåƒåœ°å€"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"auth"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"è‡ªåŠ¨ç”Ÿæˆçš„è®¤è¯å“ˆå¸Œå€¼"')]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡å¯ docker")]),s._v("\nsystemctl restart "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‹‰å–é•œåƒ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h4",{attrs:{id:"_11ã€å¦‚ä½•é…ç½®æ‰èƒ½è®©æ•°æ®ä¸ä¿ç•™åˆ°ç£ç›˜ä¸­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11ã€å¦‚ä½•é…ç½®æ‰èƒ½è®©æ•°æ®ä¸ä¿ç•™åˆ°ç£ç›˜ä¸­"}},[s._v("#")]),s._v(" 11ã€å¦‚ä½•é…ç½®æ‰èƒ½è®©æ•°æ®ä¸ä¿ç•™åˆ°ç£ç›˜ä¸­ï¼Ÿ")]),s._v(" "),t("ul",[t("li",[s._v("[x] "),t("strong",[s._v("å·²çŸ¥é—®é¢˜ï¼š")]),s._v(" é»˜è®¤ä½¿ç”¨çš„å­˜å‚¨ç³»ç»Ÿä¸º"),t("code",[s._v("filesystem")]),s._v(" ä½¿ç”¨æœ¬åœ°ç£ç›˜å­˜å‚¨æ³¨å†Œè¡¨æ–‡ä»¶")]),s._v(" "),t("li",[s._v("[x] "),t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼š")]),s._v(" ä¿®æ”¹å¯¹åº”Registryçš„é…ç½®ï¼Œå°†"),t("code",[s._v("Storage driver")]),s._v(" å­˜å‚¨é©±åŠ¨æ”¹ä¸º "),t("code",[s._v("inmemory")]),s._v("ï¼Œâš ï¸ æ³¨æ„ï¼šæ­¤å­˜å‚¨é©±åŠ¨ç¨‹åºä¸ä¼šåœ¨è¿è¡ŒæœŸé—´ä¿ç•™æ•°æ®ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒåªé€‚åˆæµ‹è¯•ã€‚åˆ‡å‹¿åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨æ­¤é©±åŠ¨ç¨‹åºã€‚")])])])}),[],!1,null,null,null);t.default=e.exports}}]);